/**
 * jQuery ddUrl Plugin
 * @version 1.2.1 (2014-12-28)
 * 
 * @desc Библиотека для работы с URL.
 * 
 * @uses jQuery 1.7.2
 * 
 * @copyright 2014, DivanDesign
 * http://www.DivanDesign.biz
 */

(function(b){b.ddUrl={current:{},parseQuery:function(a){var b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]=d[1]||""}}return b},parse:function(a){"string"!=b.type(a)&&(a=window.location.toString());a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(decodeURI(a));a={full:"",protocol:a[1]||window.location.protocol.replace(":",
""),host:a[6]||"",port:a[7]||"",relative:a[8],path:a[9],query:this.parseQuery(a[12]||""),queryString:a[12]||"",hash:this.parseQuery(a[13]||""),hashString:a[13]||"",internal:!1};""!=a.host?-1==a.host.search(/\.[^\.]+/)&&(a.relative="/"+a.host+a.relative,a.host=window.location.hostname):a.host=window.location.hostname;a.host==window.location.hostname&&(a.internal=!0);a.full=a.protocol+"://"+a.host+(""!=a.port?":"+a.port:"")+a.relative;return a}};b.ddUrl.current=b.ddUrl.parse()})(jQuery);