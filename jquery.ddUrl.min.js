/**
 * jQuery ddUrl Plugin
 * @version 1.1 (2012-09-05)
 * 
 * @desc Библиотека для работы с URL.
 * 
 * @uses jQuery 1.7.2
 * 
 * @copyright 2012, DivanDesign
 * http://www.DivanDesign.biz
 */

(function(b){b.ddUrl={current:{},get:function(a){if("string"!=b.type(a))return this.current;a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(decodeURI(a));a={full:"",protocol:a[1]||window.location.protocol.replace(":",""),host:a[6]||"",port:a[7]||"",relative:a[8],path:a[9],query:a[12]||"",hash:a[13]||"",internal:!1};""!=a.host?-1==a.host.search(/\.[^\.]+/)&&
(a.relative="/"+a.host+a.relative,a.host=window.location.hostname):a.host=window.location.hostname;a.host==window.location.hostname&&(a.internal=!0);a.full=a.protocol+"://"+a.host+(""!=a.port?":"+a.port:"")+a.relative;return a}};b.ddUrl.current=b.ddUrl.get(window.location.toString())})(jQuery);